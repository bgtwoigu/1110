/************************************************************************* */
/**
 * @file
 * @brief Implementation of F3-diag tools.
 * 
 * Copyright 2007 QUALCOMM Incorporated, All Rights Reserved.
 *
 ************************************************************************* */
/* =======================================================================
                             Edit History

$Header: //source/qcom/qct/multimedia/qtv/utils/f3/main/latest/src/qtv_f3_utils.cpp#1 $
$DateTime: 2008/05/08 11:03:24 $
$Change: 656211 $

========================================================================== */

/* =======================================================================
**               Includes and Public Data Declarations
** ======================================================================= */

/* =======================================================================

                     INCLUDE FILES FOR MODULE

========================================================================== */
/* Includes custmp4.h. The following 2 includes must be the first includes in this file! */
#include "customer.h"
#include "qtvInternalDefs.h"
#include "qtv_f3_utils.h"

/* =======================================================================

                        DATA DECLARATIONS

========================================================================== */

/* -----------------------------------------------------------------------
** Constant / Define Declarations
** ----------------------------------------------------------------------- */

/* -----------------------------------------------------------------------
** Type Declarations
** ----------------------------------------------------------------------- */

/* -----------------------------------------------------------------------
** Global Constant Data Declarations
** ----------------------------------------------------------------------- */

/* -----------------------------------------------------------------------
** Global Data Declarations
** ----------------------------------------------------------------------- */

/* =======================================================================
**                        Macro Definitions
** ======================================================================= */

/* =======================================================================
**                        Class & Function Declarations
** ======================================================================= */
/************************************************************************* */
/**
 * Produces a string representation of memory suitable for printout.
 * 
 * @param[in] mem_ptr The address at which to begin.
 * @param[in] size The number of bytes to output.
 * @return A string representation of the memory.
 *
 ************************************************************************* */
OSCL_String< char > hex_dump( const unsigned char* mem_ptr, unsigned size )
{
  const char digits[] = { '0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f' };

  OSCL_String< char > s;

  s.ensure_capacity( ( size * 3 ) - 1 );

  while ( size )
  {
    s += digits[ ( ( *mem_ptr ) >> 4 ) & 0xf ];
    s += digits[ ( *mem_ptr ) & 0xf ];

    ++mem_ptr;
    --size;

    if ( size )
    {
      s += ' ';
    }
  }

  return s;
}
