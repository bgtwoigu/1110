/*=============================================================================
                          U I U T I L S _ C L N T . C

GENERAL DESCRIPTION
  This is an AUTO GENERATED file that provides RPC client functionality for the
  uiutils API.

Copyright (c) 2007 by QUALCOMM, Incorporated. All Rights Reserved.
=============================================================================*/

/*=============================================================================

                              Edit History

                             AUTO GENERATED                                  */
#ifdef FEATURE_HTORPC_METACOMMENTS
/* Generated by following versions of Htorpc modules:
Id: //depot/asic/msm7500/tools/build/htorpc/htorpc.pl#11 
Id: //depot/asic/msm7500/tools/build/htorpc/Htorpc/Start/Start.pm#36 
Id: //depot/asic/msm7500/tools/build/htorpc/Htorpc/Htoxdr/Htoxdr.pm#35 
Id: //depot/asic/msm7500/tools/build/htorpc/Htorpc/XDR/00.01/XDR.pm#34 
Id: //depot/asic/msm7500/tools/build/htorpc/Htorpc/Output/00.03/Output.pm#18 
Id: //depot/asic/msm7500/tools/build/htorpc/Htorpc/Parser/Parser.pm#26 
Id: //depot/asic/msm7500/tools/build/htorpc/Htorpc/Metacomments/Metacomments.pm#34 
Id: //depot/asic/msm7500/tools/build/htorpc/Htorpc/SymbolTable/SymbolTable.pm#25  */
#endif
/* $Id: //depot/asic/msmshared/apps/Core/rpc/uiutils_clnt.c#4 $
=============================================================================*/

#include "customer.h"
#include "target.h"

#ifdef FEATURE_ONCRPC
#ifdef FEATURE_EXPORT_UIUTILS

/* Include files */
#include "err.h"
#include "msg.h"

#include "uiutils.h"
#include "uiutils_rpc.h"

/* Only one copy needed per API */
static opaque_auth UiutilsCred = { ONCRPC_AUTH_NONE, 0, 0 };
static opaque_auth UiutilsVerf = { ONCRPC_AUTH_NONE, 0, 0 };


/*=======================================================================
             API RPC Clients Implementation
=======================================================================*/

void uiutils_null(void)
{

  xdr_s_type *clnt;
  rpc_reply_header reply_header;

  clnt = rpc_clnt_lookup();

  if ( clnt == NULL ) {
    ERR_FATAL( "uiutils_null: No client for task %d", rex_self(), 0, 0);
  }

  oncrpcxdr_mem_free( clnt );

  XDR_ERRCHK( clnt, ON );

  do {
    (void) xdr_call_msg_start( clnt,
                               UIUTILSPROG, UIUTILSVERS,
                               ONCRPC_UIUTILS_NULL_PROC, &UiutilsCred, &UiutilsVerf );
  } while ( ! XDR_MSG_SEND( clnt, &reply_header ) );

  if ( reply_header.stat != RPC_MSG_ACCEPTED ) {

    ERR_FATAL( "uiutils_null: RPC call rejected, reject status = %d",
               reply_header.u.dr.stat, 0, 0 );

  } else if ( reply_header.u.ar.stat != RPC_ACCEPT_SUCCESS ) {

    ERR_FATAL( "uiutils_null: Error on server side, error status = %d",
               reply_header.u.ar.stat, 0, 0 );

  }

  (void) XDR_MSG_DONE( clnt );

  XDR_ERRCHK( clnt, OFF );

} /* uiutils_null */

ui_provisioning_status_type ui_return_provisioning_status(void)
{
  xdr_s_type *clnt;
  rpc_reply_header reply_header;

  ui_provisioning_status_type ui_return_provisioning_status_result;

  clnt = rpc_clnt_lookup();

  if ( clnt == NULL ) {
    ERR_FATAL( "ui_return_provisioning_status: No client for task %d", rex_self(), 0, 0);
  }

  oncrpcxdr_mem_free( clnt );

  XDR_ERRCHK( clnt, ON );

  do {

    (void) xdr_call_msg_start( clnt,
                               UIUTILSPROG, UIUTILSVERS,
                               ONCRPC_UI_RETURN_PROVISIONING_STATUS_PROC, &UiutilsCred, &UiutilsVerf );


  } while ( ! XDR_MSG_SEND( clnt, &reply_header ) );

  if ( reply_header.stat != RPC_MSG_ACCEPTED ) {

    ERR_FATAL( "ui_return_provisioning_status: RPC call rejected, reject status = %d",
               reply_header.u.dr.stat, 0, 0 );

  } else if ( reply_header.u.ar.stat != RPC_ACCEPT_SUCCESS ) {

    ERR_FATAL( "ui_return_provisioning_status: Error on server side, error status = %d",
               reply_header.u.ar.stat, 0, 0 );

  }

  (void) XDR_RECV_ENUM( clnt, &ui_return_provisioning_status_result );

  (void) XDR_MSG_DONE( clnt );

  XDR_ERRCHK( clnt, OFF );

  return ui_return_provisioning_status_result;

} /* ui_return_provisioning_status */


/*=======================================================================
             API Callbacks RPC Server Implementation
=======================================================================*/

void uiutilscb_app_init( void )
{

  uiutilscb_app_init_with_proxy( NULL );

} /* uiutilscb_app_init */


void uiutilscb_app_init_with_proxy( oncrpc_proxy_task_s_type *proxy ) {
} /* uiutilscb_app_init_with_proxy */

void uiutilscb_app_lock( boolean lock ){
} /* uiutilscb_app_enable */

#endif /* FEATURE_EXPORT_UIUTILS */
#endif /* FEATURE_ONCRPC */
